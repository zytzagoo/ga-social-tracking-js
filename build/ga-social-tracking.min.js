var e={};e.extract_param_from_uri=function(e,t){if(e){var a=new RegExp("[\\?&#]"+t+"=([^&#]*)"),r=a.exec(e);return null!==r?unescape(r[1]):void 0}},e.ga_send=function(e){try{_gaq.push(e)}catch(t){if("function"!=typeof window.ga)throw"No usable GA implementation found";e[0]="social",e.unshift("send"),window.ga.apply(window,e)}},e.track_twitter=function(e){if(e){var t=e.type;switch(e.type){case"click":e.region&&(t=e.region);break;case"retweet":e.data.source_tweet_id&&(t=e.data.source_tweet_id);break;case"favorite":e.data.source_tweet_id&&(t=e.data.source_tweet_id),e.data.tweet_id&&(t=e.data.tweet_id);break;case"follow":e.data&&e.data.user_id&&e.data.screen_name&&(t=e.data.user_id+" ("+e.data.screen_name+")")}if(e.target&&"IFRAME"==e.target.nodeName){var a=this.extract_param_from_uri(e.target.src,"url");a&&(t+=" - "+a)}var r=["_trackSocial","Twitter",e.type];r.push(t),this.ga_send(r)}},e.track_facebook=function(e,t){var a=["_trackSocial","Facebook",e,t];this.ga_send(a)};try{FB&&FB.Event&&FB.Event.subscribe&&(FB.Event.subscribe("edge.create",function(t){e.track_facebook("like",t)}),FB.Event.subscribe("edge.remove",function(t){e.track_facebook("unlike",t)}),FB.Event.subscribe("message.send",function(t){e.track_facebook("send",t)}))}catch(t){}"undefined"!=typeof twttr&&twttr.ready(function(t){for(var a=["tweet","follow","retweet","favorite","click"],r=0,c=a.length;c>r;r++){var i=a[r];t.events.bind(i,e.track_twitter)}});